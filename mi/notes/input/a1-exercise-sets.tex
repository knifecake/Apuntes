% !TeX root = ../mi-notes.tex


\chapter{Exercise sets}

\section{Exercise set 1}

Due September 20th, 2019.


\newcommand{\calB}{\mathcal{B}}
\begin{ex}
	Let $X$ be a nonempty set and $\sa = \{A_1, A_2, \dots\}$ a collection of disjoint subsets of $X$ such that $X = \bigcup_{n = 1}^\infty A_n$. Show that each element $A \in \sigma(\sa)$ is a union of at most a countable subcollection of elements of $\sa$. (3 pts)
\end{ex}

\begin{proof}
	The idea is to prove that $\sigma(\sa)$ only contains countable unions of sets of $\sa$.
	
	Let us define
	\begin{align*}
		\calB = \left\{\bigcup_{i \in I} A_i \mid A_i \in \sa \land I \subset \N\right\}.
	\end{align*}
	
	We shall prove that $\calB$ is a \siga on $\sa$ and thus $\sigma (\sa) \subseteq \calB$, i.e. $\sigma(\sa)$ is made up of unions of at most a countable subcollection of $\sa$.
	
	\begin{enumerate}
		\item Firstly, $\emptyset \in \calB$ since $\emptyset = \bigcup_{i \in I} A_i$ by choosing $I = \emptyset \subset \N$.
		\item Secondly, for any set $B = \bigcup_{i \in I} A_i \in \calB$ we have that
		\begin{align*}
			B^\complement = \left(\bigcup_{i \in I} A_i\right)^\complement = \bigcap_{i \in I} A_i^\complement = \bigcap_{i \in I} \bigcup_{j \neq i} A_j = \bigcup_{j \not\in I} A_j = \bigcup_{j \in I^\complement} A_j \in \calB,
		\end{align*}
		since $I^\complement = \N \setminus I \subset \N$.
		
		\item Finally, for any countable collection $(B_n)_{n \in \N} \in \calB$ we need to show that the union is also in $\calB$.
		\begin{align*}
			\bigcup_{n\in\N} B_n = \bigcup_{n\in\N} \bigcup_{i \in I_n} A_i = \bigcup_{j \in J} A_j \in \calB,
		\end{align*}
		since $J = \bigcup_{n \in \N} I_n \subset \N$.
	\end{enumerate}
	Since we have shown that $\calB$ is a \siga on $\sa$ and thus $\sigma(\sa) \subset \calB$, we conclude that the elements of $\sigma(\sa)$ must be all unions of at most countable subcollections of elements in $\sa$, which are the only elements of $\calB$.
\end{proof}

\begin{ex}
	Let $(X, \calD, \mu)$ be a measure space, and let $\overline{\calD}^\mu$ be the completion of the \siga $\calD$ with respect to the measure $\mu$ (see exercise 4.15). We denote by $\overline{\mu}$ the extension of the measure $\mu$ to the \siga $\overline{\calD}^\mu$. Supose $f: X \to X$ is a function such that $\inv{f}(B) \in \calD$ and $\mu(\inf{f}(B)) = \mu(B)$ for each $B \in \calD$. Show that $\inf{f}(\overline{B}) \in \overline{\calD}^\mu$ and $\overline{\mu}(\inv{f}(\overline{B})) = \overline{\mu}(\overline{B})$ for all $\overline{B} \in \overline{\calD}^\mu$. (3 pts)
\end{ex}

\begin{proof}
	First we show that $\inv{f}(\overline{B}) \in \overline{\calD}^\mu$, for all $\overline{B} \in \overline{\calD}^\mu$. Recall from the definition of the completion $\overline{\calD}^\mu$ of the \siga $\calD$ that any set $\overline{B} \in \overline{\calD}^\mu$ can be written as $\overline{B} = B \cap M$ for some subset $M$ of a $\mu$-measurable null set $N$ in $\calD$. Therefore
	\begin{align*}
		\inv{f}(\overline{B}) = \inv{f}(B \cup M) = \inv{f}(B) \cup \inv{f}(M)
	\end{align*}
	Because $N \supset M$ we also have that $\inv{f}(N) \subset \inv{f}(M)$ and $\mu(\inv{f}(N)) = \mu(N) = 0$ by the definition of $f$. This means that $\inv{f}(M)$ is also a subset of a $\mu$-measurable null set in $\calD$ and since $\inv{f}(B) \in \calD$ by definition of $f$ we have
	\begin{align*}
		\inv{f}(\overline{B}) = \underbrace{\inv{f}(B)}_{\in \calD} \cup \underbrace{\inv{f}(M)}_{\subset \inv{f}(N),\ \mu(\inv{f}(N)) = 0} \in \overline{\calD}^\mu
	\end{align*}
	
	Now we need to verify that $\overline{\mu}(\inv{f}(\overline{B})) = \overline{\mu}(\overline{B})$ for all $\overline{B} \in \overline{\calD}^\mu$. Recall that the extension $\overline{\mu}$ is well-defined in $\overline{\calD}^\mu$ with $\overline{\mu}(\overline{B}) := \mu(B)$ for any $\overline{B} = B \cup M \in \overline{\calD}^\mu$. Hence,
	\begin{align*}
		\overline{\mu}(\inv{f}(\overline{B}))
		&= \overline{\mu}(\inv{f}(B \cup M)) \\
		&= \overline{\mu}(\inv{f}(B) \cup \inv{f}(M)) \\
		&= \mu(\inv{f}(B)) \\
		&= \mu(B) =: \overline{\mu}(\overline{B})
	\end{align*}
\end{proof}

\begin{ex}
	Let $(X, \sa)$ be a measurable space and $\mu : \sa \to [0, \infty)$ a function satisfying
	\begin{enumerate}
		\item $\mu$ is finitely additive
		\item $\mu$ is $\sigma$-subadditive
	\end{enumerate}
	Show that $\mu$ is $\sigma$-additive. (4 pts)
\end{ex}

\begin{proof}
	The plan for the proof is to sandwich $\mu(\bigcup_{n\in\N} A_n)$ between two sums that are the same when taking the limit.
		
	First of all, because of $\sigma$-subadditivity we have that, for any countable collection $(A_n)_{n\in\N} \subset \sa$,
	\begin{align}
		\label{eq:es1.3a}
		\mu(\bigcup_{n\in\N} A_n) \leq \sum_{n\in \N} \mu(A_n),
	\end{align}
	which in particular holds for pairwise disjoint unions, which we will assume from here on. We can rewrite the union as
	\begin{align*}
		\bigcupdot_{n\in \N} A_n = \bigcupdot_{n = 1}^N \cupdot \bigcupdot_{n = N+1}^\infty A_n.
	\end{align*}
	Because of finite additivity we can introduce the measure as
	\begin{align*}
		\mu\left(\bigcupdot_{n\in \N} A_n\right) = \mu\left(\bigcupdot_{n = 1}^N\right) + \mu\left(\bigcupdot_{n = N+1}^\infty A_n\right).
	\end{align*}
	And applying finite additivity again we get
	\begin{align*}
		\mu\left(\bigcupdot_{n\in \N} A_n\right) = \sum_{n = 1}^N \mu(A_n) + \mu\left(\bigcupdot_{n = N+1}^\infty A_n\right).
	\end{align*}
	Since $\mu \geq 0$ we can rearrange the previous expression to obtain
	\begin{align}
		\label{eq:es1.3b}
		\sum_{n = 1}^N \mu(A_n) \leq \sum_{n = 1}^N \mu(A_n) + \mu\left(\bigcupdot_{n = N+1}^\infty A_n\right) = 	\mu\left(\bigcupdot_{n\in \N} A_n\right)
	\end{align}
	By combining \ref{eq:es1.3a} and \ref{eq:es1.3b} we get
	\begin{align*}
		\sum_{i = 1}^N \mu(A_n) \leq \mu\left(\bigcupdot_{n\in \N} A_n\right) \leq \sum_{n \in \N} \mu(A_n)
	\end{align*}
	Taking the limit as $N \to \infty$, which we can do since $N$ is not inside the arguments to $\mu$ (in that case it would require that $\mu$ was already a measure, which it isn't, yet), we have
	\begin{align*}
		\sum_{n \in \N} \mu(A_n) \leq \mu\left(\bigcupdot_{n\in \N} A_n\right) \leq \sum_{n \in \N} \mu(A_n) \implies \mu\left(\bigcupdot_{n\in \N} A_n\right) = \sum_{n \in \N} \mu(A_n),
	\end{align*}
	or that $\mu$ is $\sigma$-additive.
\end{proof}


\section{Exercise set 2}

Due September 27th, 2019.

\newcommand{\calI}{\mathcal{I}}
\begin{ex}
	Let $\Q$ be the set of all real rational numbers and let $\calI_\Q = \{[a, b)_\Q \mid a,b \in \Q\}$ where $[a,b)_\Q = \{q \in \Q \mid a \leq q < b\}$.
	\begin{enumerate}
		\item Prove that $\sigma(\calI_\Q) = \powerset(\Q)$ where $\powerset(\Q)$ is the collection of all subsets of $\Q$. (1.5 pts.)
		\item Let $\mu$ be the counting measure on $\powerset(\Q)$ and let $\nu = 2\mu$. Show that $\nu(A) = \mu(A)$ for all $A \in \calI_\Q$, but $\nu \neq \mu$ on $\sigma(\calI_\Q) = \powerset(\Q)$. Why doesn't this contradict Theorem 5.7 in your book? (1.5 pts.)
	\end{enumerate}
\end{ex}

\begin{proof}$ $\newline
	\begin{enumerate}
		\item We shall prove the double containment. First, recall that $\powerset(\Q)$ is a \siga on $\Q$. Also, by Remark 3.5 we have that $\calI_\Q \subseteq \powerset(\Q) \implies \sigma(\calI_\Q) \subseteq \sigma(\powerset(\Q)) \subseteq \powerset(\Q)$. The last inclusion comes from the fact that $\powerset(\Q)$ is also a \siga on $\Q$ so it must contain the smallest \siga on $\Q$ that contains information about $\powerset(\Q)$. For the reverse containment, we shall prove that any subset $A \in \powerset(\Q)$ is also in $\sigma(\calI_\Q)$. For any $A \subset \Q$ define $(q_n)_{n \in \N}$ to be an enumeration of the rationals in $A$. This is posible since $\# \Q = \# \N$. Therefore, we can write
		\begin{align*}
			A = \bigcup_{n \in \N} \{q_n\},\text{ where } \{q_n\} \in \sigma(\calI_\Q)
		\end{align*}
		Therefore, $A \in \sigma(\calI_\Q)$ because \sigas are closed under countable union.
		
		\item It is clear that any interval $A \in \calI_\Q$ contains infinitely many rationals, except if the interval is empty, i.e. $a = b \implies [a,b) = \emptyset$. Therefore,
		\begin{align*}
			\mu(A) = \nu(A) = \begin{cases}
			0       \tif A = \emptyset \\
			\infty &\text{ otherwiseÂ }
			\end{cases}
		\end{align*}
		But, if we consider $A \in \sigma(\calI_\Q) = \powerset(\Q)$ then we have some finite sets where $\mu(A) = \# A$, and clearly $\nu(A) = 2 \# A$. The equality between $\mu$ and $\nu$ only holds when the set is either empty or infinite, but not for finite sets such as $A = \{1, 2\}$ where $\mu(A) = 2$ but $\nu(A) = 4$.
		
		Why doesn't this contradict Theorem 5.7? Even though there is an exhausting sequence in the generator, namely $(A_n)_{n\in\N}$ where $A_n = [-n, n)_\Q$, the measure is not finite for any $A_n$. Moreover, there cannot be any exhausting sequence in $\calI_\Q$ with a finite measure because we already saw that $\mu(A) = \infty,\ \forall A \in \calI_\Q,\ A \neq \emptyset$.
	\end{enumerate}
\end{proof}

\begin{ex}
	Let $X$ be a set and $\mu, \nu:\powerset(X) \to [0, \infty)$ two outer measures on $X$. Define $\rho: \powerset(X) \to [0, \infty)$ by $\rho(A) = \max(\mu(A), \nu(A))$. Show that $\rho$ is another outer measure on $X$.
\end{ex}

\begin{proof}
	Firstly, from the definition of $\rho$ we can see that the domain and codomain are compatible with the definition of an outer measure. Next, we prove each of the properties of an outer measure.
	\begin{enumerate}
		\item $\rho(\emptyset) = \max(\mu(\emptyset), \nu(\emptyset)) = \max (0, 0) = 0$
		\item For any $A, B \in \powerset(X),\ A \subseteq B$ we have
		\begin{align*}
			\rho(A) =\max(\mu(A), \nu(A)) \leq \max (\mu(B), \nu(B)) = \rho(B)
		\end{align*}
		\item For any sequence $(A_n)_{n\in \N} \subset \powerset(X)$ we must verify that $\rho(\bigcup_{n \in \N} A_n) \leq \sum_{n\in \N} \rho(A_n)$.
		
		Let us prove the following first. For any function $f: X \times Y \to \R$ we have
		\begin{align*}
			\max_{x \in X} \sum_{y \in Y} f(x, y) \leq \sum_{y \in Y} \max_{x \in X} f(x, y)
		\end{align*}
		Choose any $x_0 \in X$ and any $y_0 \in Y$ and we have that $f(x_0, y_0) \leq \max f(x_0, y_0)$. Hence $\sum_{y \in Y} f(x_0, y) \leq \sum_{y \in Y} f(x, y)$. Because this is true for all $x_0 \in X$ we have $\max_{x \in X} \sum_{y \in Y} f(x, y) \leq \sum_{y \in Y} \max_{x \in X} f(x,y)$.
		
		Using this, i.e. choosing $Y = \N,\ X = \{\mu, \nu\}$ and defining $f(\mu, n) = \mu(A_n)$ and $f(\nu, n) = \nu(A_n)$ we have
		\begin{multline*}
			\rho(\bigcup_{n \in \N} A_n) = \max\left\{\mu\left(\bigcup_{n \in \N} A_n\right), \nu\left(\bigcup_{n \in \N} A_n\right) \right\} = \max \left\{\sum_{n\in \N} \mu(A_n), \sum_{n\in \N} \nu(A_n) \right\} \\
			\leq \sum_{n\in \N} \max\{\mu(A_n), \nu(A_n)\} = \sum_{n\in \N} \rho(A_n)
		\end{multline*}
	\end{enumerate}
\end{proof}



\section{Exercise set 3}

Due October 4th, 2019.

\begin{ex}
	Let $(X, \sa, \mu)$ be a measure space and $\calG=\{A_1, A_2, \dots\}$ a countable partition of $X$ with $A_k \in \sa,\ \forall k \in \N$. Define a function $u : X \to \R$ by $u(x) = \sum_{k = 1}^{\infty} k \cdot \ind_{A_k}$.
	
	\begin{enumerate}
		\item Show that $u$ is $\sa/\borel(\R)$-measurable. (1.5 pts)
		\item Show that $\sigma(\mu) = \sigma(\calG)$, where $\sigma(\mu)$ is the smallest \siga making $u$ measurable. (2.5 pts)
		\item Suppose that $0 < \mu(A_n) < \infty$ for all $n \in \N$. Define $\nu$ on $\sa$ by
		\begin{align*}
		\nu(B) = \sum_{n = 1}^{\infty} 3^{-n} \cdot \frac{\mu(B \cap A_n)}{\mu (A_n)}.
		\end{align*}
		Show that $\nu$ is a \textbf{finite} measure on $(X, \sa)$. (1.5 pts)
		
		\item Under the assumptions of part 3, prove that if $B \in \sa$, then $\mu(B) = 0$ if and only if $\nu(B) = 0$. (1 pt)
	\end{enumerate}
\end{ex}

\begin{proof}$ $\newline
	\begin{enumerate}
		\item Observe that the function $u(x)$ always evaluates to a natural number. In particular, $u(x) = k$ for the $k \in \N$ that satisfies $x \in A_k$. $u$ is well-defined since $\calG$ is a countable partition of $X$.
		
		We must check whether for any $B \in \borel(\R), \inv{u}(B) \in \sa$. Given a $B \in \borel(\R)$ we rewrite it as $B = B' \cup B_{nat}$ where $B_{nat}$ contains all the naturals in $B$ and $B' = B \setminus B_{nat}$. Then,
		\begin{align*}
		\inv{u}(B) = \inv{u}(B' \cup B_{nat}) = \inv{u}(B') \cup \inv{u}(B_{nat}) = \emptyset \cup \bigcup_{n \in B_{nat}} A_n \in \sa.
		\end{align*}
		
		\item By definition of $\sigma(u)$ we have
		\begin{align*}
		\sigma(u) := \sigma (\inv{u}(\borel(\R))) = \inv{u}(\borel(\R)),
		\end{align*}
		since the preimage of any \siga is a \siga.
		
		Also, recall from exercise set 1 that
		\begin{align*}
		\sigma(\calG) = \left\{ \bigcup_{i \in I} A_i \mid A_i \in \calG,\ I \subset \N \right\}.
		\end{align*}
		
		Now we prove the double containment. Take any $A \in \sigma(u)$. Then there is a $B \in \borel(\R)$ such that $A = \inv{u}(B)$. By part one we already now that
		\begin{align*}
		A = \emptyset \cup \bigcupdot_{n \in B_{nat}} A_n \in \sigma(\calG).
		\end{align*}
		
		For the reverse containment, let $G \in \sigma(\calG)$, therefore there is a set $I \subset \N$ such that $G = \bigcup_{i \in I} A_i$. Furthermore, $I \in \borel(\R)$ and thus, by part one,
		\begin{align*}
		\bigcup_{i \in I} A_i = \inv{u}(I) \in \sigma(u).
		\end{align*}
		
		\item First let us check that $\nu$ is well defined. $\nu(B)$ is well defined for any $B \in \sa$ since $B \cap A_n \in \sa$ as $\sa$ is \istable. Also, $\nu$ is non-negative since it is computed as a sum of products of non-negative numbers.
		
		Now we check the two properties in the definition of measure:
		\begin{enumerate}
			\item
			\begin{align*}
			\nu(\emptyset) = \sum_{n=1}^{\infty} 3^{-n} \cdot \frac{\mu(\emptyset \cap A_n)}{\mu(A_n)} = \sum_{n=1}^{\infty} 3^{-n} \cdot \frac{\mu(\emptyset)}{\mu(A_n)} = \sum_{n=1}^{\infty} 3^{-n} \cdot \frac{0}{\mu(A_n)} = 0
			\end{align*}
			\item For any pairwise disjoint collection $(B_n)_{n\in \N} \subset \sa$ we have
			\begin{align*}
			\nu\left(\bigcupdot_{j\in \N} B_j\right) &= \sum_{n = 1}^\infty 3^{-n} \cdot \frac{\mu\left(\left(\bigcupdot_{j\in \N} B_j\right) \cap A_n\right)}{\mu(A_n)}\\
			&= \sum_{n = 1}^\infty 3^{-n} \cdot \frac{\mu\left(\bigcupdot_{j\in \N} (B_j \cap A_n)\right)}{\mu(A_n)} \\
			&= \sum_{n = 1}^\infty 3^{-n} \cdot \frac{\sum_{j \in \N}\mu\left(B_j \cap A_n\right)}{\mu(A_n)} \\
			&= \sum_{j\in\N} \sum_{n=1}^{\infty} 3^{-n}\cdot \frac{\mu\left(B_j \cap A_n\right)}{\mu(A_n)} = \sum_{j \in \N} \nu(B_j)
			\end{align*}
		\end{enumerate}
		
		Additionally, we must check that $\nu$ is finite. Since $\mu$ is a measure, it is monotone so $\mu(B \cap A_n) \leq \mu(A_n)$ and thus
		\begin{align*}
		\nu(B) = \sum_{n = 1}^{\infty} 3^{-n} \cdot \frac{\mu(B \cap A_n)}{\mu (A_n)} \leq \sum_{n = 1}^{\infty} 3^{-n} < \infty
		\end{align*}
		
		
		\item It is clear that if $\mu(B) = 0$ then, by monotonicity, since $B \cap A_n \subset B$, we have that $0 \leq \mu(B \cap A_n) \leq \mu(B) = 0$ and therefore $\nu(B) = \sum_{n = 1}^\infty 3^{-n} \cdot 0 = 0$.
		
		For the reverse, we have that if $\nu(B) = 0$, then it must be because $\mu(B \cap A_n) = 0,\ \forall n \in \N$ since $3^{-n} > 0,\ \forall n \in \N$. We can rewrite $\mu(B)$ as
		\begin{align*}
		\mu(B) = \mu(B \cap X) = \mu\left(B \cap \bigcupdot_{j\in \N} A_j\right) = \mu\left(\bigcupdot_{j\in \N} B \cap A_j\right) \\
		= \sum_{j \in \N} \mu(B \cap A_j) = \sum_{j \in \N} 0 = 0.
		\end{align*}
		Therefore $\mu(B) = 0 \iff \nu(B) = 0,\ \forall B \in \sa$.
	\end{enumerate}
\end{proof}

\newpage

\begin{ex}
	Consider the measure space $([0, 1], \borel, \lambda)$ where $\borel = \borel(\R) \cap [0, 1)$, i.e. the restriction of the Borel \siga to the interval $[0, 1)$, and $\lambda$ denotes the Lebesgue measure restricted to $\borel$. Define a map $T:[0, 1) \to [0, 1)$ by
	\begin{align*}
	T(x) = \begin{cases}
	4x \tif 0 \leq x \leq \frac{1}{4},\\
	\frac{4}{3}( x - \frac{1}{4}) \tif \frac{1}{4} \leq x < 1.
	\end{cases}
	\end{align*}
	
	\begin{enumerate}
		\item Show that $T$ is $\borel/\borel$-measurable (in short, Borel measurable). (1.5 pts)
		\item Consider the image measure $T(\lambda)$ defined by $T(\lambda)(B) = \lambda(\inv{T}(B))$, for all $B \in \borel$. Show that $T(\lambda) = \lambda$. (2 pts)
	\end{enumerate}
\end{ex}

\begin{proof}$ $\newline
	\begin{enumerate}
		\item It is enough to check if $\inv{T}([a,b)) \in \borel$, since $\calJ \cap [0, 1) = \{[a, b) \mid 0 \leq a \leq b \leq 1\}$ is a generator of $\borel$.
		
		\begin{align*}
		\inv{T}([a,b)) &= \{x \in [0, 1) \mid T(x) \in [a, b)\} \\
		&= \left\{x \in [0, \frac{1}{4}) \mid T(x) \in [a, b)\right\} \cup \left\{x \in [\frac{1}{4}, 1) \mid T(x) \in [a, b)\right\} \\
		&= \left\{x \mid 0 \leq a \leq x < b \leq \frac{1}{4}\right\} \cup \left\{x \mid \frac{1}{4} \leq a \leq \frac{4}{3}( x - \frac{1}{4}) < b \leq 1\right\} \\
		&= \left[\frac{a}{4}, \frac{b}{4}\right) \cup \left[\frac{3a}{4} + \frac{1}{4}, \frac{3b}{4} + \frac{1}{4}\right) \in \borel,
		\end{align*}
		since each of the intervals is itself in $\calJ \cap [0,1)$. (This is because $0 \leq \frac{a}{4}, \frac{b}{4}, \frac{3a}{4} + \frac{1}{4}, \frac{3b}{4} + \frac{1}{4} < 1$ since $a, b \in [0, 1)$.)
		
		\item First we will prove that $T(\lambda)([a, b)) = \lambda([a, b)), \forall [a, b) \in \calJ \cap [0,1)$. Using the same as in part one we have
		\begin{align*}
		T(\lambda)([a, b)) &= \lambda(\inv{T}[a,b))\\
		&= \lambda\left(\left[\frac{a}{4}, \frac{b}{4}\right) \cupdot \left[\frac{3a}{4} + \frac{1}{4}, \frac{3b}{4} + \frac{1}{4}\right)\right) \\
		&= \frac{b}{4} - \frac{a}{4} + \frac{3b}{4} + \frac{1}{4} - \frac{3a}{4} - \frac{1}{4} \\
		&= b - a = \lambda([a, b)).
		\end{align*} 
		Recall that $\borel = \sigma(\calJ \cap [0,1))$ and that there exists an exhausting sequence $B_n \uparrow [0,1)$ where $B_n = [0,1),\ \forall n \in \N$ and that $\lambda([0, 1)) < \infty$ and $T(\lambda)([0,1)) = \lambda(\inv{T}([0,1))) = \lambda([0,1)) < \infty$. Then, by uniqueness, we have that $T(\lambda) = \lambda$ on all $\borel$.
	\end{enumerate}
\end{proof}

\section{Practice Mid-Term, 2019-2020.}

\begin{ex}
	Consider the measure space $(\R, \borel(\R), \lambda)$ where $\borel(\R)$ is the Borel \siga over $\R$, and $\lambda$ is the one-dimensional Lebesgue measure. Let $f_n : \R \to \R$ be defined by
	\begin{align*}
		f_n(x) = \sum_{k = 0}^{2^n - 1}\frac{3k + 2^n}{2^n} \ind_{[k/2^n, (k+1)/2^n]}(x),\ n \geq 1.
	\end{align*}
	\begin{enumerate}
		\item Show that $f_n$ is measurable, and $f_n(x) \leq f_{n+1}(x)$, for all $x \in \R$.
		\item Show that $\int \sup_{n \geq 1} f_n d\lambda = \frac{5}{2}$.
	\end{enumerate}
\end{ex}

\begin{proof}$ $\newline
	\begin{enumerate}
		\item For a given $n$ and $k$ we define
		\begin{align*}
			a^n_k = \frac{3k + 2^n}{2^n}\text{ and } A^n_k = \left[\frac{k}{2^n}, \frac{k+1}{2^n}\right).
		\end{align*}
		Clearly, $A^n_k \in \borel(\R)$ for any $n$ and $k$ and $a^n_k > 0$. Therefore, $f_n$ is a simple function and thus $f_n$ is $\sa/\borel(\R)$-measurable.
		
		Notice that
		\begin{multline*}
			A_k^n = \left[\frac{k}{2^n}, \frac{k+1}{2^n}\right)
			= \left[\frac{2k}{2\cdot 2^n}, \frac{2k+2}{2\cdot 2^n}\right)\\
			= \left[\frac{2k}{2^{n+1}}, \frac{2k+1}{2^{n+1}}\right) \cupdot \left[\frac{2k+1}{2^{n+1}}, \frac{2k+2}{2^{n+1}}\right) = A_{2k}^{n+1} \cupdot A_{2k+1}^{n+1},
		\end{multline*}
		and
		\begin{align*}
			a_k^n = \frac{3k + 2^n}{2^n} = \frac{6k + 2^{n+1}}{2^{n+1}} = a_{2k}^{n+1} \leq a_{2k}^{n+1} + a_{2k+1}^{n+1}.
		\end{align*}
		Thus,
		\begin{align*}
			f_n = \sum_{k = 0}^{2^n - 1} a_k^n \ind_{A_k^n} \leq \sum_{k = 0}^{2^n - 1} a_{2k}^{n+1} \ind_{A_{2k}^{n+1}} + a_{2k+1}^{n+1} \ind_{A_{2k+1}^{n+1}} = f_{n+1}.
		\end{align*}
		
		\item Since $(f_n)$ is an increasing sequence of simple functions we now that
		\begin{align*}
			\int \sup_{n \geq 1} f_n d\mu = \sup_{n \geq 1} \int f_n d\mu = \sup_{n \geq 1} I_\mu(f_n) = \lim_{n \to \infty} I_\mu(f_n),
		\end{align*}
		and
		\begin{align*}
			I_\mu(f_n) = \sum_{k=0}^{2^n - 1} a_k^n \mu(A_k^n)
			&= \sum_{k = 0}^{2^n - 1} \frac{3k + 2^n}{2^n} \cdot \left(\frac{k+1}{2^n} - \frac{k}{2^n}\right)\\
			&= \sum_{k = 0}^{2^n - 1} \frac{3k}{2^n \cdot 2^n} + \frac{1}{2^n} = 1 + \frac{3}{2} \frac{2^n - 1}{2^n}
		\end{align*}.
		Thus,
		\begin{align*}
			\int \sup_{n \geq 1} f_n d \mu = \lim_{n \to \infty} I_\mu(f_n) = 1 + \frac{3}{2} = \frac{5}{2}.
		\end{align*}
	\end{enumerate}
\end{proof}